var mouseoverTimer;var lastTouchTimestamp;var prefetches=new Set;var prefetchElement=document.createElement("link");var isSupported=prefetchElement.relList&&prefetchElement.relList.supports&&prefetchElement.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype;var allowQueryString="instantAllowQueryString"in document.body.dataset;var allowExternalLinks="instantAllowExternalLinks"in document.body.dataset;var useWhitelist="instantWhitelist"in document.body.dataset;var delayOnHover=65;var useMousedown=!1;var useMousedownOnly=!1;var useViewport=!1;if("instantIntensity"in document.body.dataset){var intensity=document.body.dataset.instantIntensity;if(intensity.substr(0,"mousedown".length)=="mousedown"){useMousedown=!0;if(intensity=="mousedown-only")useMousedownOnly=!0}else if(intensity.substr(0,"viewport".length)=="viewport"){if(!(navigator.connection&&(navigator.connection.saveData||navigator.connection.effectiveType.includes("2g"))))if(intensity=="viewport"){if(document.documentElement.clientWidth*document.documentElement.clientHeight<45E4)useViewport=!0}else if(intensity=="viewport-all")useViewport=!0}else{var milliseconds=parseInt(intensity);if(!isNaN(milliseconds))delayOnHover=milliseconds}}
if(isSupported){var eventListenersOptions={capture:!0,passive:!0};if(!useMousedownOnly)document.addEventListener("touchstart",touchstartListener,eventListenersOptions);if(!useMousedown)document.addEventListener("mouseover",mouseoverListener,eventListenersOptions);else document.addEventListener("mousedown",mousedownListener,eventListenersOptions);if(useViewport){var triggeringFunction;if(window.requestIdleCallback)triggeringFunction=function(callback){requestIdleCallback(callback,{timeout:1500})};else triggeringFunction=function(callback){callback()};triggeringFunction(function(){var intersectionObserver=new IntersectionObserver(function(entries){entries.forEach(function(entry){if(entry.isIntersecting){var linkElement=entry.target;intersectionObserver.unobserve(linkElement);preload(linkElement.href)}})});document.querySelectorAll("a").forEach(function(linkElement){if(isPreloadable(linkElement))intersectionObserver.observe(linkElement)})})}}
function touchstartListener(event){lastTouchTimestamp=performance.now();var linkElement=event.target.closest("a");if(!isPreloadable(linkElement))return;preload(linkElement.href)}
function mouseoverListener(event){if(performance.now()-lastTouchTimestamp<1100)return;var linkElement=event.target.closest("a");if(!isPreloadable(linkElement))return;linkElement.addEventListener("mouseout",mouseoutListener,{passive:!0});mouseoverTimer=setTimeout(function(){preload(linkElement.href);mouseoverTimer=undefined},delayOnHover)}function mousedownListener(event){var linkElement=event.target.closest("a");if(!isPreloadable(linkElement))return;preload(linkElement.href)}
function mouseoutListener(event){if(event.relatedTarget&&event.target.closest("a")==event.relatedTarget.closest("a"))return;if(mouseoverTimer){clearTimeout(mouseoverTimer);mouseoverTimer=undefined}}
function isPreloadable(linkElement){if(!linkElement||!linkElement.href)return;if(useWhitelist&&!("instant"in linkElement.dataset))return;if(!allowExternalLinks&&linkElement.origin!=location.origin&&!("instant"in linkElement.dataset))return;if(!["http:","https:"].includes(linkElement.protocol))return;if(linkElement.protocol=="http:"&&location.protocol=="https:")return;if(!allowQueryString&&linkElement.search&&!("instant"in linkElement.dataset))return;if(linkElement.hash&&linkElement.pathname+linkElement.search==location.pathname+location.search)return;if("noInstant"in linkElement.dataset)return;return!0}function preload(url){if(prefetches.has(url))return;var prefetcher=document.createElement("link");prefetcher.rel="prefetch";prefetcher.href=url;document.head.appendChild(prefetcher);prefetches.add(url)}